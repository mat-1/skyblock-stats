{%- set totalVotes = 0 -%}
{%- set winner = {} -%}
{%- set candidateEmojis = {
	'aatrox': '⚔️',
	'paul': '☠️',
	'foxy': '🍬',
	'cole': '⛏️',
	'marina': '🐟',
	'barry': '🔮',
	'diaz': '🏦',
	'diana': '🦅',
	'derpy': '👨‍🦲'
} %}
{%- for candidate in data.previous.candidates -%}
	{%- set totalVotes = totalVotes + candidate.votes -%}
	{%- if candidate.name == data.previous.winner -%}
		{%- set winner = candidate -%}
	{%- endif -%}
{%- endfor -%}

Current mayor: {{ candidateEmojis[winner.name|lower] or '❓' }} {{ winner.name }} ({{ ((winner.votes / totalVotes) * 100)|round }}%)
{%- for candidate in data.previous.candidates|sort(true, false, 'votes') -%}
	{%- if candidate.name != data.previous.winner -%}
{{ '' }}
{{ candidateEmojis[candidate.name|lower] or '❓' }} {{ candidate.name }} ({{ ((candidate.votes / totalVotes) * 100)|round }}%)
	{%- endif -%}
{%- endfor -%}