{% import "render.html" as render %}

{% extends "base.html" %}

{%- block main -%}
	<h1>{{ render.username(data.player) }}'s profiles</h1>

	<ul class="profile-list">
	{%- for profile in data.profiles -%}
		<li class="profile-list-item">
			<a class="profile-name" href="/player/{{ data.player.username }}/{{ profile.name }}">{{ profile.name }}</a>
			{#- This comment is necessary to remove the space between the profile name and the user list :) -#}
			<span class="profile-members">
				{%- if profile.members|length > 1 %}{% for player in profile.members -%}
					{#- don't unnecessarily hyperlink to the page it's already o -#}
					{%- set hyperlinkToProfile = player.uuid != data.player.uuid -%}
					{%- if hyperlinkToProfile %}<a href="/player/{{ player.username }}">{% endif -%}
						{{- render.username(player) -}}
					{%- if hyperlinkToProfile %}</a>{% endif -%}
				{%- endfor -%}
				{%- else %}Solo{% endif -%}
			</span>
		</li>
	{%- endfor -%}
	<ul>
{%- endblock -%}
